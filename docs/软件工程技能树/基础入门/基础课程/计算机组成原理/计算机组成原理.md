---
title: 计算机组成原理
slug: 计算机组成原理
sidebar_position: 3
---


# 计算机组成原理

Author：NA

# 汇编语言（Assembly Language）

指令集是CPU中用来计算和控制计算机系统的一套指令的集合，作用是指示CPU的工作。其格式包括全部指令的指令格式、寻址方式和数据形式。目前指令集可分为复杂指令集CISC和精简指令集RISC两部分。

PC机上常见的指令集有：x86，x86-64，EM64T，MMX，SSE，SSE2，SSE3，SSSE3 (Super SSE3)，SSE4A，SSE4.1，SSE4.2，AVX，AVX2，AVX-512，VMX等。这一系列均为复杂指令集。

精简指令集有ARM、RISC-V、MIPS等。常见移动平台和苹果的M系列芯片使用ARM指令集。

计算机使用的指令集反映了其所有的功能，有时我们在选购CPU时可能也需要参考其支持的指令集。

（eg. CPU-Z查看CPU信息指令集一栏中显示的就是当前CPU支持的指令集。）

![](/assets/IT9abJB0moHckRxGaSacW4Minwg.png)

## CISC和RISC

### CISC

复杂指令集具备以下特点：

1. 程序的各条指令是按顺序串行执行的，每条指令中的各个操作也是按顺序串行执行的。
2. 通常包括一个复杂的数据通路和一个微程序控制器

CISC是因为早期计算机运行较慢，为了优化运算速度，而使用硬件方式实现部分软件实现的功能。在实现CISC时采用了微指令，可以将一些功能复杂的指令分解一系列相对简单的指令。微指令的作用是将机器指令与相关的电路实现分离，这样一来机器指令可以更自由的进行设计与修改，而不用考虑到实际的电路架构。与其他方式比较起来，使用微指令架构可以在降低电路复杂度的同时，建构出复杂的多步骤机器指令。

不过这使得控制字的数量及时钟周期的数目对于每一条指令都可以是不同的，较难实现指令流水操作（但不是不行，实际上486以后的英特尔CPU就采用了流水线，微码的使用也有一些RISC的思想）。

### RISC

精简指令集具备以下特点：

1. 统一采用单周期指令，指令周期数长短统一。
2. 采用高效的流水线操作，把一条指令的操作分成多个细小的步骤，每个步骤由专门的电路完成的方式，让指令在流水线中实现并行处理，大幅度提高CPU处理效率。

RISC的概念相比CISC更新，在硬件性能提升和编译优化软件逐渐成熟之后，简单高效成为CPU优化的方向。RISC将复杂指令的执行方式交给软件处理，其硬件保持简洁，控制指令少，且方便引入流水线机制，提高了运行效率和可靠性，降低了制造成本。

## x86系列

### x86/x87

x86架构于1978年推出的Intel 8086中央处理器中首度出现，它是从Intel 8008处理器中发展而来的，而8008则是发展自Intel 4004的。8086在三年后为IBM PC所选用，之后x86便成为了个人计算机的标准平台，成为了历来最成功的CPU架构。这套指令集至今仍可以在一些最新的CPU中使用，可谓是兼容性典范（确信）。

x87 FPU专门用于执行标量浮点计算，可以对单精度浮点（32位）、双精度浮点（64位）以及扩展双精度浮点（80位）进行计算，并顺从IEEE754标准。（虽然小白的汇编课上会提到这一系列浮点指令，但是现在实际上已经没啥人用了，基本上被SSE取代）

使用x86指令集编译的浮点运算程序：

![](/assets/BmWjb7b4GoBYryxNlH7c0xOVnve.png)

### SSE

1999年Intel公司在Pentium IIICPU产品中推出了数据流单指令序列扩展指令（SSE）。SSE兼容MMX指令，它可以通过SIMD（单指令多数据技术）和单时钟周期并行处理多个浮点来有效地提高浮点运算速度。

在MMX指令集中,借用了浮点处理器的8个寄存器，这样导致了浮点运算速度降低。而在SSE指令集推出时，Intel公司在Pentium III CPU中增加了8个128位的SSE指令专用寄存器。而且SSE指令寄存器可以全速运行，保证了与浮点运算的并行性。

如下图所示，在当前的x86-64 gcc编译器中进行浮点数操作，其输出的汇编指令并非x87指令，而是sse指令，以充分利用现代cpu的特性，提高运行速度。其中movss、mulss为SSE指令；xmm为SSE寄存器。

![](/assets/DQAvbIil4oyVUKxsd3gcse7unyh.png)

64位的SSE2出现稍晚，下图中double运算使用了SSE2指令movsd mulsd。

![](/assets/AKphbxQNyoqG90xHPRIcjDcxn2f.png)

### x86-64

1999年由AMD设计，AMD首次公开64位集以扩展给x86，称为“AMD64”<b>（AMD YES！）</b>。其后也为英特尔所采用。它兼容x86指令集，并支持64位通用寄存器、64位整数及逻辑运算、以及64位虚拟地址，增加了一系列寄存器。是当今64位PC机使用的指令集。SSE2、SSE3指令也是基于它的改进。

